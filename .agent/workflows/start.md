---
description: 新对话开始模板 - 开工仪式 + 任务执行（通用版）
---

# /start - 开工仪式 + 任务执行

当用户输入 `/start` 或开始新对话时，**必须首先**执行开工仪式。

> **注意**：此工作流适用于任何项目。命令会自动使用**当前工作区目录**作为项目根目录。

---

## 📌 命令格式

| 命令 | 作用 |
|------|------|
| `/start` | 开工仪式：读取规则+汇报状态，等待指令 |
| `/start 继续` | 开工仪式后自动执行 TODO.md 中的下一个 `[ ]` 任务 |
| `/start 同意执行` | 同上，开工后自动执行下一步 |
| `/start 全部执行` | 开工后连续执行所有未完成任务（谨慎使用）|

---

## 强制执行步骤

// turbo-all

### 步骤 1：确定项目根目录
- 使用用户当前激活的工作区路径作为 `$PROJECT_ROOT`
- 例如：如果用户在 `/anti/playwriteOCR` 工作，则 `$PROJECT_ROOT=/anti/playwriteOCR`

### 步骤 2：自我校准（读取规则）
```bash
cat $PROJECT_ROOT/.antigravityrules
```

### 步骤 3：获取任务状态
```bash
cat $PROJECT_ROOT/TODO.md 2>/dev/null || echo "[TODO.md 不存在]"
```

### 步骤 4：获取上次进度
```bash
tail -100 $PROJECT_ROOT/notes.md 2>/dev/null || echo "[notes.md 不存在]"
```

### 步骤 5：汇报状态

用中文向用户问好，并报告：
```
## 🚀 开工仪式完成
- 📂 当前项目: $PROJECT_ROOT
- ✅ 规则已加载
- 📋 下一个任务: [从 TODO.md 找到第一个 [ ] 任务]
- 🔄 上次进度: [简要说明，来自 notes.md SESSION HANDOVER]
- 🎯 今日建议目标
```

---

## 步骤 6：根据参数决定下一步

### 如果用户只输入 `/start`
→ 汇报后**停止**，等待用户指令

### 如果用户输入 `/start 继续` 或 `/start 同意执行`
→ 汇报后**立即开始执行** TODO.md 中的下一个 `[ ]` 任务
→ 执行完成后更新 TODO.md（打勾 `[x]`）
→ 更新 notes.md（记录执行结果）

### 如果用户输入 `/start 全部执行`
→ 按顺序执行所有 `[ ]` 任务
→ 每完成一个就更新状态
→ 遇到错误时停止并汇报

---

## 📌 真实验证的定义（必读）

当用户要求"验证"、"真实验证"、"真实运行"时，必须满足以下**全部**标准：

**必须展示的内容**：
1. ✅ **完整的提示词文字内容**（包含真实采集的数据，不是模板样例）
2. ✅ **完整的AI分析报告**（真实生成的报告，不是历史文件）

**必须遵守的原则**：
- ✅ **必须真实运行**：实际执行代码，不能造假
- ✅ **必须展示完整数据**：全部内容，不能只展示前500字的样例
- ✅ **必须完成整个任务**：不能半途而废，所有要求都要完成
- ✅ **必须使用项目真实代码**：不能创建临时测试脚本

**禁止的行为**：
- ❌ 用历史文件冒充验证结果
- ❌ 只展示模板和样例数据
- ❌ 完成一半就停止
- ❌ 创建临时测试脚本绕过规则

---

## ⚠️ 重要提醒

- ❌ **禁止**跳过读取步骤
- ❌ **禁止**假装执行
- ✅ **必须**真正读取文件
- ✅ **必须**真正执行任务（如果用户要求继续）
- ✅ 执行完成后**必须**更新 TODO.md 和 notes.md

---

## 注意事项

- 如果 TODO.md 或 notes.md 不存在，主动询问用户是否需要创建。
- 如果 .antigravityrules 不存在，提醒用户这是一个新项目，可能需要初始化项目规则。
